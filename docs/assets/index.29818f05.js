var x=Object.defineProperty,C=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var b=(a,e,r)=>e in a?x(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,d=(a,e)=>{for(var r in e||(e={}))N.call(e,r)&&b(a,r,e[r]);if($)for(var r of $(e))w.call(e,r)&&b(a,r,e[r]);return a},_=(a,e)=>C(a,L(e));import{d as v,r as m,o as P,a as l,c as u,b as i,w as O,v as E,F as p,e as y,t as f,f as F,g as h,h as M}from"./vendor.82fcc297.js";const V=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}};V();const A=i("h1",{class:"title is-4"},"\u90FD\u9053\u5E9C\u770C\u3092\u9078\u629E",-1),B={class:"select"},D=i("option",null,null,-1),S=v({props:{selectPrefecture:null},setup(a){const e="",r=m([]),c=m("");return P(async()=>{const t=await fetch(`${e}/api/prefectures`);r.value=await t.json()}),(t,s)=>(l(),u("div",null,[A,i("div",B,[O(i("select",{"onUpdate:modelValue":s[0]||(s[0]=n=>c.value=n),onChange:s[1]||(s[1]=n=>a.selectPrefecture(c.value))},[D,(l(!0),u(p,null,y(r.value,n=>(l(),u("option",{key:n},f(n),1))),128))],544),[[E,c.value]])])]))}});const U={class:"title is-4 disaster-title"},j={class:"checkbox item"},H=["checked","onChange"],q={key:0},z={key:1},K=["href"],G=v({props:{disaster:null,measureItems:null},setup(a){const{measureItems:e}=a,r=e.map(s=>_(d({},s),{checked:!1})),c=m(r),t=s=>{const n=[...c.value];c.value=n.map(o=>o.id===s?_(d({},o),{checked:!o.checked}):o)};return(s,n)=>(l(),u("div",null,[i("h2",U,f(a.disaster),1),(l(!0),u(p,null,y(c.value,({id:o,name:k,link:g,checked:I})=>(l(),u("div",{class:"columns",key:o},[i("label",j,[i("input",{type:"checkbox",checked:I,onChange:ee=>t(o)},null,40,H),I?(l(),u("s",q,f(k),1)):(l(),u("span",z,f(k),1)),g!=null?(l(),u("a",{key:2,href:g,target:"_blank",rel:"noreferrer"}," amazon\u3078",8,K)):F("",!0)])]))),128))]))}});var J=(a,e)=>{const r=a.__vccOpts||a;for(const[c,t]of e)r[c]=t;return r};const Q={},R={class:"header"},T=i("h1",{class:"title is-1"},[i("span",null,"\u3054\u5F53\u5730"),i("span",null,"\u9632\u707D\u30AC\u30A4\u30C9")],-1),W=[T];function X(a,e){return l(),u("div",R,W)}var Y=J(Q,[["render",X]]);const Z=v({setup(a){const e="",r=m({}),c=async t=>{const s=await(await fetch(`${e}/api/prefectures?p=${t}`)).json();r.value=s.reduce((n,o)=>(n==null?void 0:n[o.disaster])==null?_(d({},n),{[o.disaster]:[{id:o.id,name:o.ItemName,link:o.ItemLink}]}):_(d({},n),{[o.disaster]:[...n[o.disaster],{id:o.id,name:o.ItemName,link:o.ItemLink}]}),{})};return(t,s)=>(l(),u(p,null,[h(Y),h(S,{"select-prefecture":c,class:"prefectures"}),(l(!0),u(p,null,y(r.value,(n,o)=>(l(),u("div",{key:o,class:"measureItem content"},[h(G,{disaster:o,"measure-items":n},null,8,["disaster","measure-items"])]))),128))],64))}});M(Z).mount("#app");
