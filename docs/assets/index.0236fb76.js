var E=Object.defineProperty,w=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var b=(e,t,s)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,h=(e,t)=>{for(var s in t||(t={}))D.call(t,s)&&b(e,s,t[s]);if(F)for(var s of F(t))L.call(t,s)&&b(e,s,t[s]);return e},y=(e,t)=>w(e,B(t));import{d as $,r as p,o as P,a as o,c as l,b as a,w as S,v as O,F as g,e as C,t as m,f as x,g as N,p as V,h as M,i as j,j as U,u as H,k as I,l as q}from"./vendor.edfa5e22.js";const z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerpolicy&&(u.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?u.credentials="include":n.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(n){if(n.ep)return;n.ep=!0;const u=s(n);fetch(n.href,u)}};z();const K=a("h1",{class:"title is-4"},"\u90FD\u9053\u5E9C\u770C\u3092\u9078\u629E",-1),T={class:"select"},G=a("option",null,null,-1),J=$({props:{selectPrefecture:null},setup(e){const t="",s=p([]),r=p("");return P(async()=>{const n=await fetch(`${t}/api/prefectures`);s.value=await n.json()}),(n,u)=>(o(),l("div",null,[K,a("div",T,[S(a("select",{"onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),onChange:u[1]||(u[1]=c=>e.selectPrefecture(r.value))},[G,(o(!0),l(g,null,C(s.value,c=>(o(),l("option",{key:c},m(c),1))),128))],544),[[O,r.value]])])]))}});const Q={class:"title is-4 disaster-title"},R={class:"checkbox item"},W=["checked","onChange"],X={key:0},Y={key:1},Z=["href"],ee=$({props:{disaster:null,measureItems:null},setup(e){const{measureItems:t}=e,s=t.map(u=>y(h({},u),{checked:!1})),r=p(s),n=u=>{const c=[...r.value];r.value=c.map(d=>d.id===u?y(h({},d),{checked:!d.checked}):d)};return(u,c)=>(o(),l("div",null,[a("h2",Q,m(e.disaster),1),(o(!0),l(g,null,C(r.value,({id:d,name:k,link:f,checked:v})=>(o(),l("div",{class:"columns",key:d},[a("label",R,[a("input",{type:"checkbox",checked:v,onChange:_=>n(d)},null,40,W),v?(o(),l("s",X,m(k),1)):(o(),l("span",Y,m(k),1)),f!=null?(o(),l("a",{key:2,href:f,target:"_blank",rel:"noreferrer"}," amazon\u3078",8,Z)):x("",!0)])]))),128))]))}});var A=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s};const te={},se={class:"header"},ne=a("h1",{class:"title is-1"},[a("span",null,"\u3054\u5F53\u5730"),a("span",null,"\u9632\u707D\u30AC\u30A4\u30C9")],-1),ue=[ne];function re(e,t){return o(),l("div",se,ue)}var oe=A(te,[["render",re]]);const ae=e=>(V("data-v-2eb3a2a4"),e=e(),M(),e),ce={class:"my-notif"},le={class:"notification is-primary"},ie=N("\u306E\u6642\u671F\u304C\u304D\u307E\u3059\uFF01\uFF01"),de=ae(()=>a("p",null,"\u30C1\u30A7\u30C3\u30AF\u30EA\u30B9\u30C8\u3092\u78BA\u8A8D\u3057\u307E\u3057\u3087\u3046\uFF01",-1)),_e=$({props:{prefecture:null,disaster:null,closeNotification:null},setup(e){return(t,s)=>(o(),l("span",ce,[a("div",le,[a("button",{class:"delete",onClick:s[0]||(s[0]=r=>e.closeNotification())}),a("p",null,[N("\u304A\u4F4F\u3044\u306E"+m(e.prefecture)+"\u3067\u306F\u3001\u307E\u3082\u306A\u304F",1),a("strong",null,m(e.disaster),1),ie]),de])]))}});var fe=A(_e,[["__scopeId","data-v-2eb3a2a4"]]);const pe=$({setup(e){const t="",s=p({}),r=p(""),n=p(!1),u=()=>n.value=!0,c=()=>n.value=!1,d=j(()=>r.value==="\u5317\u6D77\u9053"?"\u5927\u96EA":r.value==="\u6C96\u7E04\u770C"?"\u53F0\u98A8":"\u707D\u5BB3"),k=async f=>{r.value=f,u();const v=await(await fetch(`${t}/api/prefectures?p=${f}`)).json();s.value=v.reduce((_,i)=>(_==null?void 0:_[i.disaster])==null?y(h({},_),{[i.disaster]:[{id:i.id,name:i.ItemName,link:i.ItemLink}]}):y(h({},_),{[i.disaster]:[..._[i.disaster],{id:i.id,name:i.ItemName,link:i.ItemLink}]}),{})};return(f,v)=>(o(),l(g,null,[n.value?(o(),U(fe,{key:0,prefecture:r.value,disaster:H(d),"close-notification":c},null,8,["prefecture","disaster"])):x("",!0),I(oe),I(J,{"select-prefecture":k,class:"prefectures"}),(o(!0),l(g,null,C(s.value,(_,i)=>(o(),l("div",{key:i,class:"measureItem content"},[I(ee,{disaster:i,"measure-items":_},null,8,["disaster","measure-items"])]))),128))],64))}});q(pe).mount("#app");
