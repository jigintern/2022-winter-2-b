var A=Object.defineProperty,E=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var b=(n,e,t)=>e in n?A(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,h=(n,e)=>{for(var t in e||(e={}))D.call(e,t)&&b(n,t,e[t]);if(x)for(var t of x(e))L.call(e,t)&&b(n,t,e[t]);return n},y=(n,e)=>E(n,B(e));import{d as $,r as m,o as w,a as o,c as l,b as a,w as P,v as O,F as g,e as F,t as p,f as I,g as N,h as V,i as M,u as j,j as C,k as S}from"./vendor.e93f71bf.js";const U=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(s){if(s.ep)return;s.ep=!0;const u=t(s);fetch(s.href,u)}};U();const H=a("h1",{class:"title is-4"},"\u90FD\u9053\u5E9C\u770C\u3092\u9078\u629E",-1),q={class:"select"},z=a("option",null,null,-1),K=$({props:{selectPrefecture:null},setup(n){const e="",t=m([]),r=m("");return w(async()=>{const s=await fetch(`${e}/api/prefectures`);t.value=await s.json()}),(s,u)=>(o(),l("div",null,[H,a("div",q,[P(a("select",{"onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),onChange:u[1]||(u[1]=c=>n.selectPrefecture(r.value))},[z,(o(!0),l(g,null,F(t.value,c=>(o(),l("option",{key:c},p(c),1))),128))],544),[[O,r.value]])])]))}});const T={class:"title is-4 disaster-title"},G={class:"checkbox item"},J=["checked","onChange"],Q={key:0},R={key:1},W=["href"],X=$({props:{disaster:null,measureItems:null},setup(n){const{measureItems:e}=n,t=e.map(u=>y(h({},u),{checked:!1})),r=m(t),s=u=>{const c=[...r.value];r.value=c.map(d=>d.id===u?y(h({},d),{checked:!d.checked}):d)};return(u,c)=>(o(),l("div",null,[a("h2",T,p(n.disaster),1),(o(!0),l(g,null,F(r.value,({id:d,name:k,link:f,checked:v})=>(o(),l("div",{class:"columns",key:d},[a("label",G,[a("input",{type:"checkbox",checked:v,onChange:_=>s(d)},null,40,J),v?(o(),l("s",Q,p(k),1)):(o(),l("span",R,p(k),1)),f!=null?(o(),l("a",{key:2,href:f,target:"_blank",rel:"noreferrer"}," amazon\u3078",8,W)):I("",!0)])]))),128))]))}});var Y=(n,e)=>{const t=n.__vccOpts||n;for(const[r,s]of e)t[r]=s;return t};const Z={},ee={class:"header"},te=a("h1",{class:"title is-1"},[a("span",null,"\u3054\u5F53\u5730"),a("span",null,"\u9632\u707D\u30AC\u30A4\u30C9")],-1),se=[te];function ne(n,e){return o(),l("div",ee,se)}var ue=Y(Z,[["render",ne]]);const re={class:"my-notif"},oe={class:"notification is-primary"},ae=N("\u306E\u6642\u671F\u304C\u304D\u307E\u3059\uFF01\uFF01"),ce=a("p",null,"\u30C1\u30A7\u30C3\u30AF\u30EA\u30B9\u30C8\u3092\u78BA\u8A8D\u3057\u307E\u3057\u3087\u3046\uFF01",-1),le=$({props:{prefecture:null,disaster:null,closeNotification:null},setup(n){return(e,t)=>(o(),l("span",re,[a("div",oe,[a("button",{class:"delete",onClick:t[0]||(t[0]=r=>n.closeNotification())}),a("p",null,[N("\u304A\u4F4F\u3044\u306E"+p(n.prefecture)+"\u3067\u306F\u3001\u307E\u3082\u306A\u304F",1),a("strong",null,p(n.disaster),1),ae]),ce])]))}});const ie=$({setup(n){const e="",t=m({}),r=m(""),s=m(!1),u=()=>s.value=!0,c=()=>s.value=!1,d=V(()=>r.value==="\u5317\u6D77\u9053"?"\u5927\u96EA":r.value==="\u6C96\u7E04\u770C"?"\u53F0\u98A8":"\u707D\u5BB3"),k=async f=>{r.value=f,u();const v=await(await fetch(`${e}/api/prefectures?p=${f}`)).json();t.value=v.reduce((_,i)=>(_==null?void 0:_[i.disaster])==null?y(h({},_),{[i.disaster]:[{id:i.id,name:i.ItemName,link:i.ItemLink}]}):y(h({},_),{[i.disaster]:[..._[i.disaster],{id:i.id,name:i.ItemName,link:i.ItemLink}]}),{})};return(f,v)=>(o(),l(g,null,[s.value?(o(),M(le,{key:0,prefecture:r.value,disaster:j(d),"close-notification":c},null,8,["prefecture","disaster"])):I("",!0),C(ue),C(K,{"select-prefecture":k,class:"prefectures"}),(o(!0),l(g,null,F(t.value,(_,i)=>(o(),l("div",{key:i,class:"measureItem content"},[C(X,{disaster:i,"measure-items":_},null,8,["disaster","measure-items"])]))),128))],64))}});S(ie).mount("#app");
